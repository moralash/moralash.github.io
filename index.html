import React, { useState, useEffect } from 'react';
import { Github, Linkedin, Mail, ChevronDown, Code, Brain, Database, Cpu, Globe, ExternalLink, BookOpen, Gamepad2, Plane, Menu, X } from 'lucide-react';

export default function Portfolio() {
  const [activeSection, setActiveSection] = useState('hero');
  const [isVisible, setIsVisible] = useState({});
  const [menuOpen, setMenuOpen] = useState(false);

  useEffect(() => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          setIsVisible((prev) => ({
            ...prev,
            [entry.target.id]: entry.isIntersecting,
          }));
        });
      },
      { threshold: 0.1 }
    );

    document.querySelectorAll('section').forEach((section) => {
      observer.observe(section);
    });

    return () => observer.disconnect();
  }, []);

  const projects = [
    {
      name: 'YouTube Transcript Summarizer',
      icon: 'üé•',
      description: 'AI-powered tool using Mistral to summarize YouTube video transcripts efficiently',
      tech: ['Python', 'Jupyter', 'Mistral', 'NLP'],
      link: 'https://github.com/moralash/yt-transcript-summarizer-mistral',
    },
    {
      name: 'Cold Email Generator',
      icon: 'üìß',
      description: 'Automated email generation using LangChain and Hugging Face models',
      tech: ['LangChain', 'Hugging Face', 'Python', 'NLP'],
      link: 'https://github.com/moralash/-Cold-Email-Generator-with-LangChain-Hugging-Face-',
    },
    {
      name: 'AI E-commerce Platform',
      icon: 'üõí',
      description: 'Intelligent e-commerce platform with AI-driven recommendations and features',
      tech: ['Python', 'FastAPI', 'AI/ML', 'React'],
      link: 'https://github.com/moralash/AI-Supported-E-commerce-Platform',
    },
    {
      name: 'BookNook Interactive',
      icon: 'üìö',
      description: 'Interactive book library with AI features and social engagement tools',
      tech: ['TypeScript', 'React', 'AI', 'Social Features'],
      link: 'https://github.com/moralash/BookNookInteractive',
    },
  ];

  const techStack = [
    { name: 'FastAPI', icon: '‚ö°', category: 'Backend' },
    { name: 'React', icon: '‚öõÔ∏è', category: 'Frontend' },
    { name: 'RAG', icon: 'üîç', category: 'AI' },
    { name: 'MLOps', icon: 'üîß', category: 'Operations' },
    { name: 'LLMOps', icon: 'ü§ñ', category: 'Operations' },
    { name: 'Python', icon: 'üêç', category: 'Language' },
    { name: 'TensorFlow', icon: 'üß†', category: 'AI' },
    { name: 'LangChain', icon: '‚õìÔ∏è', category: 'AI' },
  ];

  const researchAreas = [
    {
      icon: <Brain className="w-8 h-8" />,
      title: 'Scientific Computing',
      desc: 'AI applications for solving complex scientific problems',
    },
    {
      icon: <Globe className="w-8 h-8" />,
      title: 'Geospatial Data Science',
      desc: 'Advanced analysis of spatial and geographic data',
    },
    {
      icon: <Cpu className="w-8 h-8" />,
      title: 'Physics & Math AI',
      desc: 'Mathematical and physics-based AI research',
    },
    {
      icon: <Database className="w-8 h-8" />,
      title: 'Urban Planning AI',
      desc: 'AI solutions for smart city and urban development',
    },
  ];

  const hobbies = [
    { icon: <BookOpen className="w-6 h-6" />, name: 'Reading' },
    { icon: <Gamepad2 className="w-6 h-6" />, name: 'Gaming' },
    { icon: <Plane className="w-6 h-6" />, name: 'Travel' },
  ];

  const scrollToSection = (sectionId) => {
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
      setMenuOpen(false);
    }
  };

  return (
    <div className="bg-black text-white min-h-screen relative overflow-hidden">
      {/* Animated Background */}
      <div className="fixed inset-0 z-0">
        <div className="absolute inset-0 bg-gradient-to-br from-black via-purple-950 to-black"></div>
        <div className="absolute w-full h-full">
          <div className="absolute w-96 h-96 bg-purple-600/20 rounded-full blur-3xl top-20 left-10 animate-pulse"></div>
          <div className="absolute w-96 h-96 bg-pink-600/20 rounded-full blur-3xl bottom-20 right-10 animate-pulse" style={{animationDelay: '1s'}}></div>
          <div className="absolute w-96 h-96 bg-blue-600/20 rounded-full blur-3xl top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 animate-pulse" style={{animationDelay: '2s'}}></div>
        </div>
        {/* Grid overlay */}
        <div className="absolute inset-0 bg-[linear-gradient(rgba(139,92,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(139,92,246,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"></div>
      </div>

      <div className="relative z-10">
        {/* Navigation Menu */}
        <nav className="fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-black/50 border-b border-purple-500/20">
          <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div className="text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
              MSH
            </div>
            
            {/* Desktop Menu */}
            <div className="hidden md:flex gap-8">
              <button onClick={() => scrollToSection('hero')} className="text-gray-300 hover:text-purple-400 transition-colors">Home</button>
              <button onClick={() => scrollToSection('research')} className="text-gray-300 hover:text-purple-400 transition-colors">Research</button>
              <button onClick={() => scrollToSection('tech')} className="text-gray-300 hover:text-purple-400 transition-colors">Tech Stack</button>
              <button onClick={() => scrollToSection('projects')} className="text-gray-300 hover:text-purple-400 transition-colors">Projects</button>
            </div>

            {/* Mobile Menu Button */}
            <button 
              onClick={() => setMenuOpen(!menuOpen)}
              className="md:hidden p-2 rounded-lg bg-purple-900/30 border border-purple-500/30 hover:bg-purple-800/50 transition-all"
            >
              {menuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
            </button>
          </div>

          {/* Mobile Menu */}
          <div className={`md:hidden overflow-hidden transition-all duration-300 ${menuOpen ? 'max-h-64 opacity-100' : 'max-h-0 opacity-0'}`}>
            <div className="px-6 py-4 bg-black/80 backdrop-blur-lg border-t border-purple-500/20">
              <button onClick={() => scrollToSection('hero')} className="block w-full text-left py-3 text-gray-300 hover:text-purple-400 transition-colors border-b border-purple-500/10">Home</button>
              <button onClick={() => scrollToSection('research')} className="block w-full text-left py-3 text-gray-300 hover:text-purple-400 transition-colors border-b border-purple-500/10">Research</button>
              <button onClick={() => scrollToSection('tech')} className="block w-full text-left py-3 text-gray-300 hover:text-purple-400 transition-colors border-b border-purple-500/10">Tech Stack</button>
              <button onClick={() => scrollToSection('projects')} className="block w-full text-left py-3 text-gray-300 hover:text-purple-400 transition-colors">Projects</button>
            </div>
          </div>
        </nav>

        {/* Hero Section */}
        <section id="hero" className="min-h-screen flex items-center justify-center relative pt-20">
          <div className={`text-center px-6 transition-all duration-1000 ${isVisible.hero ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
            <div className="mb-8 inline-block relative">
              <div className="w-40 h-40 rounded-full mx-auto shadow-2xl shadow-purple-500/50 animate-float border-4 border-purple-400/30 overflow-hidden bg-gradient-to-br from-purple-500 via-pink-500 to-purple-600">
                <img 
                  src="https://media.licdn.com/dms/image/v2/D5603AQEoE8wZwqgZWA/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1726241363079?e=1740009600&v=beta&t=k8n0w8PUKEqT6JwYZBfSQGpDqMCnYuM5rZz1hLs1aUo"
                  alt="MD Shahid Hossain"
                  className="w-full h-full object-cover"
                />
              </div>
              <div className="absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full blur-xl opacity-50 animate-pulse"></div>
            </div>
            
            <h1 className="text-7xl font-bold mb-3 bg-gradient-to-r from-purple-400 via-pink-400 to-purple-500 bg-clip-text text-transparent tracking-tight">
              MD SHAHID HOSSAIN
            </h1>
            
            <div className="mb-6">
              <p className="text-3xl font-semibold text-purple-300 mb-2">AI Engineer</p>
              <p className="text-lg text-purple-400/80">
                Rajshahi University of Engineering & Technology
              </p>
            </div>

            <p className="text-xl text-gray-300 mb-4 max-w-2xl mx-auto">
              Full Stack AI Applications | RAG | MLOps | LLMOps
            </p>

            <div className="flex gap-3 justify-center mb-8 flex-wrap">
              {hobbies.map((hobby, idx) => (
                <div key={idx} className="flex items-center gap-2 px-4 py-2 bg-purple-900/30 backdrop-blur-sm rounded-full border border-purple-500/30">
                  <span className="text-purple-400">{hobby.icon}</span>
                  <span className="text-sm text-gray-300">{hobby.name}</span>
                </div>
              ))}
            </div>
            
            <div className="flex gap-4 justify-center mb-12">
              <a href="https://github.com/moralash" target="_blank" rel="noopener noreferrer" 
                 className="p-4 bg-purple-900/30 backdrop-blur-sm hover:bg-purple-800/50 rounded-full transition-all hover:scale-110 border border-purple-500/30 hover:border-purple-400">
                <Github className="w-6 h-6" />
              </a>
              <a href="https://www.linkedin.com/in/shahid-hossain-44005428a/" target="_blank" rel="noopener noreferrer"
                 className="p-4 bg-purple-900/30 backdrop-blur-sm hover:bg-purple-800/50 rounded-full transition-all hover:scale-110 border border-purple-500/30 hover:border-purple-400">
                <Linkedin className="w-6 h-6" />
              </a>
              <a href="mailto:your.email@example.com" 
                 className="p-4 bg-purple-900/30 backdrop-blur-sm hover:bg-purple-800/50 rounded-full transition-all hover:scale-110 border border-purple-500/30 hover:border-purple-400">
                <Mail className="w-6 h-6" />
              </a>
            </div>
            
            <ChevronDown className="w-8 h-8 mx-auto animate-bounce text-purple-400" />
          </div>
        </section>

        {/* Research Areas */}
        <section id="research" className="py-20 px-6 max-w-6xl mx-auto">
          <h2 className={`text-5xl font-bold text-center mb-16 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent transition-all duration-1000 ${isVisible.research ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
            Research Interests
          </h2>
          <div className="grid md:grid-cols-2 gap-8">
            {researchAreas.map((area, idx) => (
              <div
                key={idx}
                className={`bg-purple-950/20 backdrop-blur-lg p-8 rounded-2xl border border-purple-500/20 hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 ${isVisible.research ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}
                style={{ transitionDelay: `${idx * 100}ms` }}
              >
                <div className="text-purple-400 mb-4">{area.icon}</div>
                <h3 className="text-2xl font-semibold mb-3 text-purple-200">{area.title}</h3>
                <p className="text-gray-400">{area.desc}</p>
              </div>
            ))}
          </div>
        </section>

        {/* Tech Stack */}
        <section id="tech" className="py-20 px-6 max-w-6xl mx-auto">
          <h2 className={`text-5xl font-bold text-center mb-16 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent transition-all duration-1000 ${isVisible.tech ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
            Tech Stack
          </h2>
          <div className="flex flex-wrap gap-4 justify-center">
            {techStack.map((tech, idx) => (
              <div
                key={idx}
                className={`bg-purple-950/30 backdrop-blur-lg px-6 py-4 rounded-full border border-purple-500/30 hover:border-pink-400/60 transition-all duration-300 hover:scale-110 hover:shadow-lg hover:shadow-purple-500/30 ${isVisible.tech ? 'opacity-100 scale-100' : 'opacity-0 scale-90'}`}
                style={{ transitionDelay: `${idx * 50}ms` }}
              >
                <span className="text-2xl mr-2">{tech.icon}</span>
                <span className="text-lg font-medium text-purple-200">{tech.name}</span>
              </div>
            ))}
          </div>
        </section>

        {/* Projects */}
        <section id="projects" className="py-20 px-6 max-w-6xl mx-auto">
          <h2 className={`text-5xl font-bold text-center mb-16 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent transition-all duration-1000 ${isVisible.projects ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}>
            Featured Projects
          </h2>
          <div className="grid md:grid-cols-2 gap-8">
            {projects.map((project, idx) => (
              <a
                key={idx}
                href={project.link}
                target="_blank"
                rel="noopener noreferrer"
                className={`bg-purple-950/20 backdrop-blur-lg p-6 rounded-2xl border border-purple-500/20 hover:border-purple-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/20 group ${isVisible.projects ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'}`}
                style={{ transitionDelay: `${idx * 100}ms` }}
              >
                <div className="flex items-start justify-between mb-4">
                  <div className="flex items-center gap-3">
                    <span className="text-4xl">{project.icon}</span>
                    <h3 className="text-xl font-semibold text-purple-200 group-hover:text-purple-300 transition-colors">
                      {project.name}
                    </h3>
                  </div>
                  <ExternalLink className="w-5 h-5 text-gray-400 group-hover:text-purple-400 transition-colors" />
                </div>
                <p className="text-gray-400 mb-4">{project.description}</p>
                <div className="flex flex-wrap gap-2">
                  {project.tech.map((t, i) => (
                    <span key={i} className="px-3 py-1 bg-purple-900/40 rounded-full text-sm text-purple-300 border border-purple-500/20">
                      {t}
                    </span>
                  ))}
                </div>
              </a>
            ))}
          </div>
        </section>

        {/* Footer */}
        <footer className="py-12 text-center text-gray-400 border-t border-purple-500/20 backdrop-blur-sm">
          <p className="text-lg">MD Shahid Hossain ¬© 2024</p>
          <p className="text-sm mt-2 text-purple-400/60">AI Engineer | RUET | Built with React & Tailwind</p>
        </footer>
      </div>

      <style jsx>{`
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
      `}</style>
    </div>
  );
}
